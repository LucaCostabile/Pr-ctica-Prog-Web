<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>To-Do simple</title>
  <style>
    /* Estilo mínimo */
    body { font-family: Arial, sans-serif; padding:16px }
    input, button { font-size:14px }
    ul { padding-left:18px }
    #log { white-space:pre-line; font-family:monospace; margin-top:12px; border-top:1px solid #ddd; padding-top:8px }
  </style>
</head>
<body>
  <h1>To-Do (simple)</h1>

  <input id="taskInput" placeholder="Escribe una tarea..." />
  <button id="addBtn">Agregar</button>

  <!-- Usamos el id 'contenedor' tal como en tu snippet -->
  <ul id="contenedor"></ul>

  <div id="log">Esperando cambios en el DOM...</div>

  <script>
    const contenedor = document.getElementById("contenedor");
    const addBtn = document.getElementById('addBtn');
    const input = document.getElementById('taskInput');
    const log = document.getElementById('log');

    // Función mínima para añadir una tarea (li)
    function addTask(text) {
      const li = document.createElement('li');
      li.textContent = text;
      contenedor.appendChild(li);
    }

    addBtn.addEventListener('click', () => {
      const v = input.value.trim();
      if (!v) return;
      addTask(v);
      input.value = '';
      input.focus();
    });

    input.addEventListener('keydown', e => { if (e.key === 'Enter') addBtn.click(); });

    // Creamos un observador que detecta cambios en el DOM
    const observer = new MutationObserver(mutaciones => {
      mutaciones.forEach(m => {
        // Escribimos un texto breve en el log; mantenemos el formato simple
        if (m.type === 'childList') {
          log.textContent += '\nCambio: childList en UL';
        } else if (m.type === 'attributes') {
          log.textContent += '\nCambio: attributes en ' + (m.target.tagName || 'elemento');
        } else {
          log.textContent += '\nCambio: ' + m.type;
        }
      });
    });

    // Configuramos qué queremos observar (igual que en tu snippet)
    observer.observe(contenedor, { childList: true, attributes: true });

    // Muestra de agregado dinámico opcional (puedes quitarlo). Lo dejo comentado.
    // setTimeout(() => {
    //   const nuevo = document.createElement('p');
    //   nuevo.textContent = 'Elemento agregado dinámicamente';
    //   contenedor.appendChild(nuevo);
    // }, 2000);
  </script>
</body>
</html>
